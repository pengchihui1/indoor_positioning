{"id":"mpVp","dependencies":[{"name":"D:\\xampp\\htdocs\\ssd\\dongle_script\\indoor positioning\\package.json","includedInParent":true,"mtime":1657118832808},{"name":"bleuio","loc":{"line":1,"column":27},"parent":"D:\\xampp\\htdocs\\ssd\\dongle_script\\indoor positioning\\script.js","resolved":"D:\\xampp\\htdocs\\ssd\\dongle_script\\indoor positioning\\node_modules\\bleuio\\index.js"}],"generated":{"js":"\"use strict\";var e=n(require(\"bleuio\"));function t(e){if(\"function\"!=typeof WeakMap)return null;var n=new WeakMap,r=new WeakMap;return(t=function(e){return e?r:n})(e)}function n(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var r=t(n);if(r&&r.has(e))return r.get(e);var o={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(\"default\"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=c?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}document.getElementById(\"connect\").addEventListener(\"click\",function(){e.at_connect(),document.getElementById(\"checkLocation\").removeAttribute(\"disabled\")});var r={\"Conference Room\":\"[D0:76:50:80:00:3A]\",Entrance:\"[D0:76:50:80:00:97]\",\"SSD lab\":\"[D0:76:50:80:0B:9D]\",\"IAD lab\":\"[D0:76:50:80:0F:49]\",Office:\"[D0:76:50:80:02:30]\"};document.getElementById(\"checkLocation\").addEventListener(\"click\",function(){document.getElementById(\"loading\").style.display=\"block\",document.getElementById(\"connect\").setAttribute(\"disabled\",\"\"),e.at_central().then(function(){e.at_showrssi(1).then(function(){e.at_findscandata(\"9636C6F7\",6).then(function(e){var t=e.map(function(e){if(e.length>30){var t=e.split(\" \");return{mac:t[2],rssi:t[1]}}});t.sort(function(e,t){return parseInt(t.rssi)>parseInt(e.rssi)?1:-1});var n=Object.keys(r).find(function(e){return r[e]===t[0].mac});document.getElementById(\"loading\").style.display=\"none\",document.getElementById(\"theLocation\").innerHTML=\"You are at <strong>\"+n+\"</strong\"})})})});"},"sourceMaps":{"js":{"mappings":[{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":0}},{"source":"script.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"script.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"script.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"script.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"script.js","original":{"line":1,"column":0},"generated":{"line":1,"column":29}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":40}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":49}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":51}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":54}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":57}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":76}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":84}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":91}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":96}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":100}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":102}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":106}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":114}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":116}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":120}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":128}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":135}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":137}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":146}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":149}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":156}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":158}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":160}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":164}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":167}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":176}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":178}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":180}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":183}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":187}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":190}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":193}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":195}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":206}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":213}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":215}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":218}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":225}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":228}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":245}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":248}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":267}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":269}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":275}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":276}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":284}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":287}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":291}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":293}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":295}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":298}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":301}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":304}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":306}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":310}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":313}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":320}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":322}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":326}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":329}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":333}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":335}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":338}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":340}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":347}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":363}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":370}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":395}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":399}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":403}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":408}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":410}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":413}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":425}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":428}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":435}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":445}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":460}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":465}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":467}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":470}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":471}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":475}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":477}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":479}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":486}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":511}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":513}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":516}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":521}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":525}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":527}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":532}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":534}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":539}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":546}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":561}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":563}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":565}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":568}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":570}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":573}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":575}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":578}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":585}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":587}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":595}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":597}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":600}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":602}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":606}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":608}},{"source":"script.js","original":{"line":15,"column":0},"generated":{"line":1,"column":611}},{"source":"script.js","name":"document","original":{"line":2,"column":0},"generated":{"line":1,"column":613}},{"source":"script.js","name":"getElementById","original":{"line":2,"column":9},"generated":{"line":1,"column":622}},{"source":"script.js","original":{"line":2,"column":24},"generated":{"line":1,"column":637}},{"source":"script.js","name":"addEventListener","original":{"line":2,"column":35},"generated":{"line":1,"column":648}},{"source":"script.js","original":{"line":2,"column":52},"generated":{"line":1,"column":665}},{"source":"script.js","original":{"line":2,"column":61},"generated":{"line":1,"column":673}},{"source":"script.js","name":"my_dongle","original":{"line":3,"column":2},"generated":{"line":1,"column":684}},{"source":"script.js","name":"at_connect","original":{"line":3,"column":12},"generated":{"line":1,"column":686}},{"source":"script.js","name":"document","original":{"line":4,"column":2},"generated":{"line":1,"column":699}},{"source":"script.js","name":"getElementById","original":{"line":4,"column":11},"generated":{"line":1,"column":708}},{"source":"script.js","original":{"line":4,"column":26},"generated":{"line":1,"column":723}},{"source":"script.js","name":"removeAttribute","original":{"line":4,"column":43},"generated":{"line":1,"column":740}},{"source":"script.js","original":{"line":4,"column":59},"generated":{"line":1,"column":756}},{"source":"script.js","original":{"line":8,"column":0},"generated":{"line":1,"column":770}},{"source":"script.js","name":"beaconArray","original":{"line":8,"column":4},"generated":{"line":1,"column":774}},{"source":"script.js","original":{"line":8,"column":16},"generated":{"line":1,"column":776}},{"source":"script.js","original":{"line":9,"column":20},"generated":{"line":1,"column":777}},{"source":"script.js","original":{"line":9,"column":20},"generated":{"line":1,"column":795}},{"source":"script.js","original":{"line":10,"column":13},"generated":{"line":1,"column":817}},{"source":"script.js","original":{"line":10,"column":13},"generated":{"line":1,"column":826}},{"source":"script.js","original":{"line":11,"column":12},"generated":{"line":1,"column":848}},{"source":"script.js","original":{"line":11,"column":12},"generated":{"line":1,"column":858}},{"source":"script.js","original":{"line":12,"column":12},"generated":{"line":1,"column":880}},{"source":"script.js","original":{"line":12,"column":12},"generated":{"line":1,"column":890}},{"source":"script.js","original":{"line":13,"column":11},"generated":{"line":1,"column":912}},{"source":"script.js","original":{"line":13,"column":11},"generated":{"line":1,"column":919}},{"source":"script.js","name":"document","original":{"line":15,"column":0},"generated":{"line":1,"column":942}},{"source":"script.js","name":"getElementById","original":{"line":15,"column":9},"generated":{"line":1,"column":951}},{"source":"script.js","original":{"line":15,"column":24},"generated":{"line":1,"column":966}},{"source":"script.js","name":"addEventListener","original":{"line":15,"column":41},"generated":{"line":1,"column":983}},{"source":"script.js","original":{"line":15,"column":58},"generated":{"line":1,"column":1000}},{"source":"script.js","original":{"line":15,"column":67},"generated":{"line":1,"column":1008}},{"source":"script.js","name":"document","original":{"line":16,"column":2},"generated":{"line":1,"column":1019}},{"source":"script.js","name":"getElementById","original":{"line":16,"column":11},"generated":{"line":1,"column":1028}},{"source":"script.js","original":{"line":16,"column":26},"generated":{"line":1,"column":1043}},{"source":"script.js","name":"style","original":{"line":16,"column":37},"generated":{"line":1,"column":1054}},{"source":"script.js","name":"display","original":{"line":16,"column":43},"generated":{"line":1,"column":1060}},{"source":"script.js","original":{"line":16,"column":53},"generated":{"line":1,"column":1068}},{"source":"script.js","name":"document","original":{"line":17,"column":2},"generated":{"line":1,"column":1076}},{"source":"script.js","name":"getElementById","original":{"line":17,"column":11},"generated":{"line":1,"column":1085}},{"source":"script.js","original":{"line":17,"column":26},"generated":{"line":1,"column":1100}},{"source":"script.js","name":"setAttribute","original":{"line":17,"column":37},"generated":{"line":1,"column":1111}},{"source":"script.js","original":{"line":17,"column":50},"generated":{"line":1,"column":1124}},{"source":"script.js","original":{"line":17,"column":61},"generated":{"line":1,"column":1135}},{"source":"script.js","name":"my_dongle","original":{"line":19,"column":2},"generated":{"line":1,"column":1139}},{"source":"script.js","name":"at_central","original":{"line":19,"column":12},"generated":{"line":1,"column":1141}},{"source":"script.js","name":"then","original":{"line":19,"column":25},"generated":{"line":1,"column":1154}},{"source":"script.js","original":{"line":19,"column":30},"generated":{"line":1,"column":1159}},{"source":"script.js","name":"my_dongle","original":{"line":21,"column":4},"generated":{"line":1,"column":1170}},{"source":"script.js","name":"at_showrssi","original":{"line":21,"column":14},"generated":{"line":1,"column":1172}},{"source":"script.js","original":{"line":21,"column":26},"generated":{"line":1,"column":1184}},{"source":"script.js","name":"then","original":{"line":21,"column":29},"generated":{"line":1,"column":1187}},{"source":"script.js","original":{"line":21,"column":34},"generated":{"line":1,"column":1192}},{"source":"script.js","name":"my_dongle","original":{"line":23,"column":6},"generated":{"line":1,"column":1203}},{"source":"script.js","name":"at_findscandata","original":{"line":23,"column":16},"generated":{"line":1,"column":1205}},{"source":"script.js","original":{"line":23,"column":32},"generated":{"line":1,"column":1221}},{"source":"script.js","original":{"line":23,"column":43},"generated":{"line":1,"column":1232}},{"source":"script.js","name":"then","original":{"line":23,"column":46},"generated":{"line":1,"column":1235}},{"source":"script.js","original":{"line":23,"column":51},"generated":{"line":1,"column":1240}},{"source":"script.js","name":"data","original":{"line":23,"column":52},"generated":{"line":1,"column":1249}},{"source":"script.js","name":"formated","original":{"line":25,"column":14},"generated":{"line":1,"column":1252}},{"source":"script.js","name":"formated","original":{"line":25,"column":14},"generated":{"line":1,"column":1256}},{"source":"script.js","name":"data","original":{"line":25,"column":25},"generated":{"line":1,"column":1258}},{"source":"script.js","name":"map","original":{"line":25,"column":30},"generated":{"line":1,"column":1260}},{"source":"script.js","original":{"line":25,"column":34},"generated":{"line":1,"column":1264}},{"source":"script.js","name":"item","original":{"line":25,"column":35},"generated":{"line":1,"column":1273}},{"source":"script.js","name":"item","original":{"line":26,"column":13},"generated":{"line":1,"column":1276}},{"source":"script.js","name":"item","original":{"line":26,"column":13},"generated":{"line":1,"column":1279}},{"source":"script.js","name":"length","original":{"line":26,"column":18},"generated":{"line":1,"column":1281}},{"source":"script.js","original":{"line":26,"column":25},"generated":{"line":1,"column":1288}},{"source":"script.js","original":{"line":26,"column":28},"generated":{"line":1,"column":1291}},{"source":"script.js","name":"splitted","original":{"line":27,"column":18},"generated":{"line":1,"column":1292}},{"source":"script.js","name":"splitted","original":{"line":27,"column":18},"generated":{"line":1,"column":1296}},{"source":"script.js","name":"item","original":{"line":27,"column":28},"generated":{"line":1,"column":1298}},{"source":"script.js","name":"split","original":{"line":27,"column":33},"generated":{"line":1,"column":1300}},{"source":"script.js","original":{"line":27,"column":39},"generated":{"line":1,"column":1306}},{"source":"script.js","original":{"line":30,"column":19},"generated":{"line":1,"column":1311}},{"source":"script.js","original":{"line":30,"column":19},"generated":{"line":1,"column":1317}},{"source":"script.js","name":"mac","original":{"line":30,"column":21},"generated":{"line":1,"column":1318}},{"source":"script.js","name":"splitted","original":{"line":28,"column":20},"generated":{"line":1,"column":1322}},{"source":"script.js","original":{"line":28,"column":29},"generated":{"line":1,"column":1324}},{"source":"script.js","name":"rssi","original":{"line":30,"column":25},"generated":{"line":1,"column":1327}},{"source":"script.js","name":"splitted","original":{"line":29,"column":21},"generated":{"line":1,"column":1332}},{"source":"script.js","original":{"line":29,"column":30},"generated":{"line":1,"column":1334}},{"source":"script.js","name":"formated","original":{"line":34,"column":8},"generated":{"line":1,"column":1341}},{"source":"script.js","name":"sort","original":{"line":34,"column":17},"generated":{"line":1,"column":1343}},{"source":"script.js","original":{"line":34,"column":22},"generated":{"line":1,"column":1348}},{"source":"script.js","name":"a","original":{"line":34,"column":23},"generated":{"line":1,"column":1357}},{"source":"script.js","name":"b","original":{"line":34,"column":26},"generated":{"line":1,"column":1359}},{"source":"script.js","name":"parseInt","original":{"line":34,"column":32},"generated":{"line":1,"column":1362}},{"source":"script.js","name":"parseInt","original":{"line":34,"column":32},"generated":{"line":1,"column":1369}},{"source":"script.js","name":"b","original":{"line":34,"column":41},"generated":{"line":1,"column":1378}},{"source":"script.js","name":"rssi","original":{"line":34,"column":43},"generated":{"line":1,"column":1380}},{"source":"script.js","name":"parseInt","original":{"line":34,"column":51},"generated":{"line":1,"column":1386}},{"source":"script.js","name":"a","original":{"line":34,"column":60},"generated":{"line":1,"column":1395}},{"source":"script.js","name":"rssi","original":{"line":34,"column":62},"generated":{"line":1,"column":1397}},{"source":"script.js","original":{"line":34,"column":71},"generated":{"line":1,"column":1403}},{"source":"script.js","original":{"line":34,"column":77},"generated":{"line":1,"column":1406}},{"source":"script.js","name":"locationName","original":{"line":36,"column":12},"generated":{"line":1,"column":1410}},{"source":"script.js","name":"locationName","original":{"line":36,"column":12},"generated":{"line":1,"column":1414}},{"source":"script.js","name":"Object","original":{"line":36,"column":25},"generated":{"line":1,"column":1416}},{"source":"script.js","name":"keys","original":{"line":36,"column":32},"generated":{"line":1,"column":1423}},{"source":"script.js","name":"beaconArray","original":{"line":36,"column":37},"generated":{"line":1,"column":1428}},{"source":"script.js","name":"find","original":{"line":36,"column":50},"generated":{"line":1,"column":1431}},{"source":"script.js","original":{"line":36,"column":55},"generated":{"line":1,"column":1436}},{"source":"script.js","name":"key","original":{"line":36,"column":55},"generated":{"line":1,"column":1445}},{"source":"script.js","name":"beaconArray","original":{"line":36,"column":62},"generated":{"line":1,"column":1448}},{"source":"script.js","name":"beaconArray","original":{"line":36,"column":62},"generated":{"line":1,"column":1455}},{"source":"script.js","name":"key","original":{"line":36,"column":74},"generated":{"line":1,"column":1457}},{"source":"script.js","name":"formated","original":{"line":36,"column":83},"generated":{"line":1,"column":1462}},{"source":"script.js","original":{"line":36,"column":92},"generated":{"line":1,"column":1464}},{"source":"script.js","original":{"line":36,"column":83},"generated":{"line":1,"column":1467}},{"source":"script.js","name":"document","original":{"line":37,"column":8},"generated":{"line":1,"column":1473}},{"source":"script.js","name":"getElementById","original":{"line":37,"column":17},"generated":{"line":1,"column":1482}},{"source":"script.js","original":{"line":37,"column":32},"generated":{"line":1,"column":1497}},{"source":"script.js","name":"style","original":{"line":37,"column":43},"generated":{"line":1,"column":1508}},{"source":"script.js","name":"display","original":{"line":37,"column":49},"generated":{"line":1,"column":1514}},{"source":"script.js","original":{"line":37,"column":59},"generated":{"line":1,"column":1522}},{"source":"script.js","name":"document","original":{"line":39,"column":8},"generated":{"line":1,"column":1529}},{"source":"script.js","name":"getElementById","original":{"line":39,"column":17},"generated":{"line":1,"column":1538}},{"source":"script.js","original":{"line":39,"column":32},"generated":{"line":1,"column":1553}},{"source":"script.js","name":"innerHTML","original":{"line":39,"column":47},"generated":{"line":1,"column":1568}},{"source":"script.js","original":{"line":39,"column":59},"generated":{"line":1,"column":1578}},{"source":"script.js","name":"locationName","original":{"line":39,"column":81},"generated":{"line":1,"column":1600}},{"source":"script.js","original":{"line":39,"column":94},"generated":{"line":1,"column":1602}}],"sources":{"script.js":"import * as my_dongle from 'bleuio'\r\ndocument.getElementById('connect').addEventListener('click', function(){\r\n  my_dongle.at_connect()\r\n  document.getElementById('checkLocation').removeAttribute(\"disabled\");\r\n\r\n})\r\n//List of Close Beacons and their name based on mac address\r\nlet beaconArray={\r\n  \"Conference Room\":\"[D0:76:50:80:00:3A]\",\r\n  \"Entrance\":\"[D0:76:50:80:00:97]\",\r\n  \"SSD lab\":\"[D0:76:50:80:0B:9D]\",\r\n  \"IAD lab\":\"[D0:76:50:80:0F:49]\",\r\n  \"Office\":\"[D0:76:50:80:02:30]\",\r\n}\r\ndocument.getElementById('checkLocation').addEventListener('click', function(){ \r\n  document.getElementById(\"loading\").style.display = \"block\";\r\n  document.getElementById('connect').setAttribute(\"disabled\",\"\");\r\n// put the dongle on central role ,so that we can scan\r\n  my_dongle.at_central().then(()=>{\r\n    //enable rssi for the scan response\r\n    my_dongle.at_showrssi(1).then(()=>{\r\n      //filter advertised data , so it only shows close beacon on the response\r\n      my_dongle.at_findscandata('9636C6F7',6).then((data)=>{\r\n        //convert array string to array of object with key value\r\n        const formated = data.map((item) => {\r\n          if(item.length>30){\r\n            const splitted= item.split(' ');\r\n            let mac=splitted[2]\r\n            let rssi=splitted[1]\r\n            return { mac,rssi};\r\n          }\r\n        });\r\n         //sort based on rssi value       \r\n        formated.sort((a, b) => parseInt(b.rssi) > parseInt(a.rssi) && 1 || -1)\r\n        // get the name of the close beacon by mac address\r\n        let locationName=Object.keys(beaconArray).find(key => beaconArray[key] === formated[0]['mac']);\r\n        document.getElementById(\"loading\").style.display = \"none\";\r\n        // print out the location\r\n        document.getElementById(\"theLocation\").innerHTML = \"You are at <strong>\"+locationName+\"</strong\";       \r\n      })\r\n    }) \r\n  })\r\n})"},"lineCount":null}},"error":null,"hash":"1e441a2a443e67180d22973523dbdf85","cacheData":{"env":{}}}